(()=>{"use strict";var e={773:(e,t,r)=>{r.d(t,{$P:()=>hexValue});let o=!1,n=!1;const i={debug:1,default:2,info:2,warning:3,error:4,off:5};let a=i.default,s=null;const c=function _checkNormalize(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var l,u;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(l||(l={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(u||(u={}));const h="0123456789abcdef";class Logger{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==i[r]&&this.throwArgumentError("invalid log level name","logLevel",e),a>i[r]||console.log.apply(console,t)}debug(...e){this._log(Logger.levels.DEBUG,e)}info(...e){this._log(Logger.levels.INFO,e)}warn(...e){this._log(Logger.levels.WARNING,e)}makeError(e,t,r){if(n)return this.makeError("censored error",t,{});t||(t=Logger.errors.UNKNOWN_ERROR),r||(r={});const o=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=h[t[e]>>4],r+=h[15&t[e]];o.push(e+"=Uint8Array(0x"+r+")")}else o.push(e+"="+JSON.stringify(t))}catch(t){o.push(e+"="+JSON.stringify(r[e].toString()))}})),o.push(`code=${t}`),o.push(`version=${this.version}`);const i=e;let a="";switch(t){case u.NUMERIC_FAULT:{a="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":a+="-"+t;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result"}break}case u.CALL_EXCEPTION:case u.INSUFFICIENT_FUNDS:case u.MISSING_NEW:case u.NONCE_EXPIRED:case u.REPLACEMENT_UNDERPRICED:case u.TRANSACTION_REPLACED:case u.UNPREDICTABLE_GAS_LIMIT:a=t}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),o.length&&(e+=" ("+o.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Logger.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,o){e||this.throwError(t,r,o)}assertArgument(e,t,r,o){e||this.throwArgumentError(t,r,o)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),c&&this.throwError("platform missing String.prototype.normalize",Logger.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:c})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Logger.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Logger.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Logger.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Logger.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return s||(s=new Logger("logger/5.7.0")),s}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),o){if(!e)return;this.globalLogger().throwError("error censorship permanent",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}n=!!e,o=!!t}static setLogLevel(e){const t=i[e.toLowerCase()];null!=t?a=t:Logger.globalLogger().warn("invalid log level - "+e)}static from(e){return new Logger(e)}}Logger.errors=u,Logger.levels=l;const d=new Logger("bytes/5.7.0");function isHexable(e){return!!e.toHexString}function isInteger(e){return"number"==typeof e&&e==e&&e%1==0}function isBytes(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!isInteger(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!isInteger(r)||r<0||r>=256)return!1}return!0}function isHexString(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const p="0123456789abcdef";function hexlify(e,t){if(t||(t={}),"number"==typeof e){d.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=p[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable(e))return e.toHexString();if(isHexString(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":d.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(isBytes(e)){let t="0x";for(let r=0;r<e.length;r++){let o=e[r];t+=p[(240&o)>>4]+p[15&o]}return t}return d.throwArgumentError("invalid hexlify value","value",e)}function hexValue(e){const t=function hexStripZeros(e){"string"!=typeof e&&(e=hexlify(e));isHexString(e)||d.throwArgumentError("invalid hex string","value",e);e=e.substring(2);let t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}(hexlify(e,{hexPad:"left"}));return"0x"===t?"0x0":t}},375:(e,t,r)=>{r.d(t,{addAmbNetwork:()=>addAmbNetwork,bitgetWalletConnector:()=>E,metamaskConnector:()=>u,walletconnectConnector:()=>d});var o=r(155),n=r(946),i=r(269);const getCurrentAmbNetwork=(e=process.env.REACT_APP_CHAIN_ID||16718)=>a[e],a={30746:{name:"AirDAO Devnet",chainId:30746,code:"AMB",tokenSymbol:"AMB",tokenDenomination:18,explorerUrl:"https://devnet.airdao.io/explorer/",rpcUrl:"https://network.ambrosus-dev.io",rpcUrlWS:"wss://network.ambrosus-dev.io/ws"},22040:{name:"AirDAO Testnet",chainId:22040,code:"AMB",tokenSymbol:"AMB",tokenDenomination:18,explorerUrl:"https://testnet.airdao.io/explorer/",rpcUrl:"https://network.ambrosus-test.io",rpcUrlWS:"wss://network.ambrosus-test.io/ws"},16718:{name:"AirDAO Mainnet",chainId:16718,code:"AMB",tokenSymbol:"AMB",tokenDenomination:18,explorerUrl:"https://airdao.io/explorer/",rpcUrl:"https://network.ambrosus.io/",rpcUrlWS:"wss://network.ambrosus.io/ws"}};var s=r(276);const c=getCurrentAmbNetwork(),l=process.env.REACT_APP_WC_PROJECT_ID||process.env.NEXT_PUBLIC_WC_PROJECT_ID,[u,h]=(0,o.initializeConnector)((e=>new n.MetaMask({actions:e}))),[d,p]=(0,o.initializeConnector)((e=>new i.WalletConnect({actions:e,options:{projectId:l,chains:[c.chainId],showQrModal:!0,rpcMap:{[c.chainId]:c.rpcUrl}},defaultChainId:c.chainId}))),[E,g]=(0,o.initializeConnector)((e=>new s.BitKeep({actions:e})));r(476);var m=r(773);function addAmbNetwork(e){const t=getCurrentAmbNetwork(),r=m.$P(+t.chainId);return console.log(e),e.request({method:"wallet_addEthereumChain",params:[{chainId:r,chainName:t.name,nativeCurrency:{name:t.tokenSymbol,symbol:t.tokenSymbol,decimals:t.tokenDenomination},rpcUrls:[t.rpcUrl],blockExplorerUrls:[t.explorerUrl]}]})}},476:(e,t,r)=>{r(375)},155:e=>{e.exports=require("@web3-react/core")},946:e=>{e.exports=require("@web3-react/metamask")},269:e=>{e.exports=require("@web3-react/walletconnect-v2")},497:e=>{e.exports=require("react")},660:e=>{e.exports=function detectEthereumProvider({mustBeBitKeep:e=!1,silent:t=!1,timeout:r=3e3}={}){!function _validateInputs(){if("boolean"!=typeof e)throw new Error("detect-provider: Expected option 'mustBeBitKeep' to be a boolean.");if("boolean"!=typeof t)throw new Error("detect-provider: Expected option 'silent' to be a boolean.");if("number"!=typeof r)throw new Error("detect-provider: Expected option 'timeout' to be a number.")}();let o=!1;return new Promise((n=>{var i;function handleEthereum(){if(o)return;o=!0,window.removeEventListener("ethereum#initialized",handleEthereum);const{bitkeep:r}=window;if(!(null==r?void 0:r.ethereum)||e&&!r.ethereum.isBitKeep){const o=e&&(null==r?void 0:r.ethereum)?"Non-BitKeep window.bitkeep.ethereum detected.":"Unable to detect window.bitkeep.ethereum.";!t&&console.error("detect-provider:",o),n(null)}else n(r.ethereum)}(null===(i=null===window||void 0===window?void 0:window.bitkeep)||void 0===i?void 0:i.ethereum)?handleEthereum():(window.addEventListener("ethereum#initialized",handleEthereum,{once:!0}),setTimeout((()=>{handleEthereum()}),r))}))}},276:function(e,t,r){var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,o,n)}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return n(t,e),t},a=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(n,i){function fulfilled(e){try{step(o.next(e))}catch(e){i(e)}}function rejected(e){try{step(o.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BitKeep=t.NoBitKeepError=void 0;const s=r(538);class NoBitKeepError extends Error{constructor(){super("BitKeep not installed"),this.name=NoBitKeepError.name,Object.setPrototypeOf(this,NoBitKeepError.prototype)}}function parseChainId(e){return Number.parseInt(e,16)}t.NoBitKeepError=NoBitKeepError;class BitKeep extends s.Connector{constructor({actions:e,options:t,onError:r}){super(e,r),this.options=t}isomorphicInitialize(){return a(this,void 0,void 0,(function*(){if(!this.eagerConnection)return this.eagerConnection=Promise.resolve().then((()=>i(r(660)))).then((e=>a(this,void 0,void 0,(function*(){var t,r;const o=yield e.default(this.options);o&&(this.provider=o,(null===(t=this.provider.providers)||void 0===t?void 0:t.length)&&(this.provider=null!==(r=this.provider.providers.find((e=>e.isBitKeep)))&&void 0!==r?r:this.provider.providers[0]),this.provider.on("connect",(({chainId:e})=>{this.actions.update({chainId:parseChainId(e)})})),this.provider.on("disconnect",(e=>{var t;this.actions.resetState(),null===(t=this.onError)||void 0===t||t.call(this,e)})),this.provider.on("chainChanged",(e=>{this.actions.update({chainId:parseChainId(e)})})),this.provider.on("accountsChanged",(e=>{0===e.length?this.actions.resetState():this.actions.update({accounts:e})})))}))))}))}connectEagerly(){return a(this,void 0,void 0,(function*(){const e=this.actions.startActivation();return yield this.isomorphicInitialize(),this.provider?Promise.all([this.provider.request({method:"eth_chainId"}),this.provider.request({method:"eth_accounts"})]).then((([e,t])=>{if(!t.length)throw new Error("No accounts returned");this.actions.update({chainId:parseChainId(e),accounts:t})})).catch((e=>{console.debug("Could not connect eagerly",e),this.actions.resetState()})):e()}))}activate(e){var t,r;return a(this,void 0,void 0,(function*(){let o;return(null===(r=null===(t=this.provider)||void 0===t?void 0:t.isConnected)||void 0===r?void 0:r.call(t))||(o=this.actions.startActivation()),this.isomorphicInitialize().then((()=>a(this,void 0,void 0,(function*(){if(!this.provider)throw new NoBitKeepError;return Promise.all([this.provider.request({method:"eth_chainId"}),this.provider.request({method:"eth_requestAccounts"})]).then((([t,r])=>{const o=parseChainId(t),n="number"==typeof e?e:null==e?void 0:e.chainId;if(!n||o===n)return this.actions.update({chainId:o,accounts:r});const i=`0x${n.toString(16)}`;return this.provider.request({method:"wallet_switchEthereumChain",params:[{chainId:i}]}).catch((t=>{if(4902===t.code&&"number"!=typeof e)return this.provider.request({method:"wallet_addEthereumChain",params:[Object.assign(Object.assign({},e),{chainId:i})]});throw t})).then((()=>this.activate(n)))}))})))).catch((e=>{throw null==o||o(),e}))}))}watchAsset({address:e,symbol:t,decimals:r,image:o}){return a(this,void 0,void 0,(function*(){if(!this.provider)throw new Error("No provider");return this.provider.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:e,symbol:t,decimals:r,image:o}}}).then((e=>{if(!e)throw new Error("Rejected");return!0}))}))}}t.BitKeep=BitKeep},538:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Connector=void 0;t.Connector=class Connector{constructor(e,t){this.actions=e,this.onError=t}resetState(){this.actions.resetState()}}}},t={};function __webpack_require__(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{__webpack_require__.r(r),__webpack_require__.d(r,{useAuthorization:()=>hooks_useAuthorization,useAutoLogin:()=>hooks_useAutoLogin});var e=__webpack_require__(375),t=__webpack_require__(155),o=__webpack_require__(497);const n=process.env.REACT_APP_CHAIN_ID||process.env.NEXT_PUBLIC_CHAIN_ID,hooks_useAuthorization=(r=e.metamaskConnector,i=e.walletconnectConnector,a=e.bitgetWalletConnector,s=n)=>{const{connector:c}=(0,t.useWeb3React)(),l=(0,o.useMemo)((()=>{if("undefined"!=typeof window)return window}),[]);return{loginMetamask:()=>{const{ethereum:t}=l;return t&&t.isMetaMask?r.activate(+s).then((()=>{localStorage.setItem("wallet","metamask")})).catch((r=>{4902===r.code&&(0,e.addAmbNetwork)(t),console.log("metamask connection error",r)})):l.open(`https://metamask.app.link/dapp/${l.location.hostname+l.location.pathname}`).focus()},loginWalletConnect:async()=>(await l.indexedDB.deleteDatabase("WALLET_CONNECT_V2_INDEXED_DB"),console.info("initiating walletconnect-v2 connection"),i.activate(+s).catch((e=>{console.log("walletconnect-v2 connection error",e)}))),loginSafepal:()=>{const{safepalProvider:t}=l;return t?r.activate(+s).then((()=>{localStorage.setItem("wallet","metamask")})).catch((r=>{4902===r.code&&(0,e.addAmbNetwork)(t),console.log("metamask connection error",r)})):l.open("https://www.safepal.com/download?product=2").focus()},loginBitget:()=>{const{bitkeep:t}=l;return t?a.activate(+s).then((()=>localStorage.setItem("wallet","bitget"))).catch((r=>{4902===r.code&&(0,e.addAmbNetwork)(t.ethereum),console.log("metamask connection error",r)})):l.open("https://web3.bitget.com/en/wallet-download?type=1").focus()},logout:()=>{c?.deactivate?c.deactivate():c.resetState(),localStorage.removeItem("wallet")}}},hooks_useAutoLogin=(t=e.metamaskConnector,r=e.bitgetWalletConnector)=>{const[n,i]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{(async()=>{const e=localStorage.getItem("wallet");"metamask"===e?await t.connectEagerly().then((e=>console.log(e))).catch((e=>{console.log("metamask eager connection error",e)})):"bitget"===e&&await r.connectEagerly().catch((e=>{console.log("bitget eager connection error",e)})),i(!0)})()}),[]),n},i=require("buffer");"undefined"!=typeof window&&(window.Buffer=window.Buffer||i.Buffer)})(),module.exports=r})();